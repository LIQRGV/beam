input {
  generator {
    codec => "json"
    threads => 4
    lines => [
      '{
          "scientist": "name"
      }'
    ]
  }
}

filter {
  ruby {
    code => "event.set('gen_id', rand(100000 - 1) + 1)"
  }
  ruby {
    code => "event.set('scientist', ['Einstein', 'Darwin', 'Copernicus', 'Pasteur', 'Curie', 'Faraday', 'Newton', 'Bohr',
            'Galilei', 'Maxwell'].sample)"
  }
}
filter {
  mutate {
    remove_field => [ "gen_id", "sequence", "host", "@timestamp", "@version" ]
  }
}

output {
  elasticsearch {
    hosts => [ "127.0.0.1:9200"]
    index => "beam"
    document_type => "test"
  }
}
